#!/usr/bin/env bash
# Use 'pgrep' command to find PIDs of processes whose names contain the word "bash"

# Get the current script's name
current_script=$(basename "$0")

# Get the current shell session's PID
current_pid=$$

# Get all processes containing the word "bash" in their command line, excluding the current script and the current shell session
bash_processes=$(pgrep -a bash | grep -v "$current_script" | grep -v "$current_pid")

# Display the PID and process name of each bash process
echo "$bash_processes" | while read -r line; do
    pid=$(echo "$line" | awk '{print $1}')
    process_name=$(echo "$line" | awk '{print $2}')
    echo "$pid $process_name"
done

